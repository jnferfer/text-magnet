{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/juan/Desarrollo/TextMagnet_app/streamlit-bgraph/streamlit_agraph/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _createClass from\"/Users/juan/Desarrollo/TextMagnet_app/streamlit-bgraph/streamlit_agraph/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _classCallCheck from\"/Users/juan/Desarrollo/TextMagnet_app/streamlit-bgraph/streamlit_agraph/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _inherits from\"/Users/juan/Desarrollo/TextMagnet_app/streamlit-bgraph/streamlit_agraph/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/juan/Desarrollo/TextMagnet_app/streamlit-bgraph/streamlit_agraph/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Streamlit,StreamlitComponentBase,withStreamlitConnection}from\"streamlit-component-lib\";import React from\"react\";import VisGraph from'react-vis-graph-wrapper';var StreamlitVisGraph=/*#__PURE__*/function(_StreamlitComponentBa){_inherits(StreamlitVisGraph,_StreamlitComponentBa);var _super=_createSuper(StreamlitVisGraph);function StreamlitVisGraph(){var _this;_classCallCheck(this,StreamlitVisGraph);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.render=function(){function lookup_node_id(lookup_node,mynodes){var _iterator=_createForOfIteratorHelper(mynodes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;if(node.id===lookup_node){return node;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}var graph=JSON.parse(_this.props.args[\"data\"]);var nodes=graph.nodes.slice();for(var i=0;i<nodes.length;i++){if(nodes[i].title)nodes[i].div=_this.htmlTitle(nodes[i].title);}var options=JSON.parse(_this.props.args[\"config\"]);var events={selectNode:function selectNode(event){Streamlit.setComponentValue(event.nodes[0]);}// doubleClick: (event:any) => {\n//   console.log(event.nodes);\n//   // let link = nodes;\n//   let lookup_node = lookup_node_id(event.nodes[0], nodes);\n//   let link = lookup_node.div.innerHTML;\n//   if(link){\n//     window.open(link);\n//   }\n// }\n};return/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(VisGraph,{graph:graph,options:options,events:events,getNetwork:function getNetwork(network){//  if you want access to vis.js network api you can set the state in a parent component using this property\n//console.log(network);\n}}));};_this.htmlTitle=function(html){var container=document.createElement(\"div\");container.innerHTML=html;return container;};return _this;}return _createClass(StreamlitVisGraph);}(StreamlitComponentBase);export default withStreamlitConnection(StreamlitVisGraph);","map":{"version":3,"names":["Streamlit","StreamlitComponentBase","withStreamlitConnection","React","VisGraph","StreamlitVisGraph","render","lookup_node_id","lookup_node","mynodes","node","id","graph","JSON","parse","props","args","nodes","slice","i","length","title","div","htmlTitle","options","events","selectNode","event","setComponentValue","network","html","container","document","createElement","innerHTML"],"sources":["/Users/juan/Desarrollo/TextMagnet_app/streamlit-bgraph/streamlit_agraph/frontend/src/StreamlitVisGraph.tsx"],"sourcesContent":["import {\n  Streamlit,\n  StreamlitComponentBase,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, { ReactNode } from \"react\"\nimport VisGraph from 'react-vis-graph-wrapper';\n\n\nclass StreamlitVisGraph extends StreamlitComponentBase {\n\n  public render = (): ReactNode => {\n\n    function lookup_node_id(lookup_node, mynodes){\n      for (let node of mynodes){\n          if (node.id === lookup_node){\n              return node;\n          }\n    }}\n\n    var graph = JSON.parse(this.props.args[\"data\"]);\n    \n    var nodes = graph.nodes.slice();\n\n    for (let i = 0; i < nodes.length; i++) {\n      if(nodes[i].title)\n        nodes[i].div = this.htmlTitle(nodes[i].title);\n    }\n  \n    const options = JSON.parse(this.props.args[\"config\"]);\n\n    const events = {\n\n      selectNode: (event:any) => {\n        Streamlit.setComponentValue(event.nodes[0]);\n      }\n\n      // doubleClick: (event:any) => {\n      //   console.log(event.nodes);\n      //   // let link = nodes;\n      //   let lookup_node = lookup_node_id(event.nodes[0], nodes);\n      //   let link = lookup_node.div.innerHTML;\n      //   if(link){\n      //     window.open(link);\n      //   }\n      // }\n    };\n    return (\n      <span>\n    \n      <VisGraph\n      graph={graph}\n      options={options}\n      events={events}\n      getNetwork={(network: any) => {\n        //  if you want access to vis.js network api you can set the state in a parent component using this property\n        //console.log(network);\n      }}/>\n      </span>\n    )\n  }\n\n  private htmlTitle = (html):any => {   \n    const container = document.createElement(\"div\");\n    container.innerHTML = html;\n    return container;\n  }\n}\n\nexport default withStreamlitConnection(StreamlitVisGraph)\n"],"mappings":"2+BAAA,OACEA,SADF,CAEEC,sBAFF,CAGEC,uBAHF,KAIO,yBAJP,CAKA,MAAOC,MAAP,KAAiC,OAAjC,CACA,MAAOC,SAAP,KAAqB,yBAArB,C,GAGMC,kB,6XAEGC,M,CAAS,UAAiB,CAE/B,QAASC,eAAT,CAAwBC,WAAxB,CAAqCC,OAArC,CAA6C,0CAC1BA,OAD0B,YAC3C,+CAAyB,IAAhBC,KAAgB,aACrB,GAAIA,IAAI,CAACC,EAAL,GAAYH,WAAhB,CAA4B,CACxB,MAAOE,KAAP,CACH,CACN,CAL4C,qDAK3C,CAEF,GAAIE,MAAK,CAAGC,IAAI,CAACC,KAAL,CAAW,MAAKC,KAAL,CAAWC,IAAX,CAAgB,MAAhB,CAAX,CAAZ,CAEA,GAAIC,MAAK,CAAGL,KAAK,CAACK,KAAN,CAAYC,KAAZ,EAAZ,CAEA,IAAK,GAAIC,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,KAAK,CAACG,MAA1B,CAAkCD,CAAC,EAAnC,CAAuC,CACrC,GAAGF,KAAK,CAACE,CAAD,CAAL,CAASE,KAAZ,CACEJ,KAAK,CAACE,CAAD,CAAL,CAASG,GAAT,CAAe,MAAKC,SAAL,CAAeN,KAAK,CAACE,CAAD,CAAL,CAASE,KAAxB,CAAf,CACH,CAED,GAAMG,QAAO,CAAGX,IAAI,CAACC,KAAL,CAAW,MAAKC,KAAL,CAAWC,IAAX,CAAgB,QAAhB,CAAX,CAAhB,CAEA,GAAMS,OAAM,CAAG,CAEbC,UAAU,CAAE,oBAACC,KAAD,CAAe,CACzB3B,SAAS,CAAC4B,iBAAV,CAA4BD,KAAK,CAACV,KAAN,CAAY,CAAZ,CAA5B,EACD,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAda,CAAf,CAgBA,mBACE,6CAEA,oBAAC,QAAD,EACA,KAAK,CAAEL,KADP,CAEA,OAAO,CAAEY,OAFT,CAGA,MAAM,CAAEC,MAHR,CAIA,UAAU,CAAE,oBAACI,OAAD,CAAkB,CAC5B;AACA;AACD,CAPD,EAFA,CADF,CAaD,C,OAEON,S,CAAY,SAACO,IAAD,CAAc,CAChC,GAAMC,UAAS,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB,CACAF,SAAS,CAACG,SAAV,CAAsBJ,IAAtB,CACA,MAAOC,UAAP,CACD,C,wDAzD6B9B,sB,EA4DhC,cAAeC,wBAAuB,CAACG,iBAAD,CAAtC"},"metadata":{},"sourceType":"module"}